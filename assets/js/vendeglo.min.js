$(document).ready(function(){function t(){$("#napiMenu>.section-label").waypoint(function(){var t=$(".napi-tablak>li").length-1,e=250;tDelay=t*e,$(".napi-tablak>li:not(:last-of-type)").velocity("transition.perspectiveDownIn",{stagger:e},{duration:600}),$(".napi-tablak>li:last-of-type").delay(tDelay).velocity("transition.perspectiveDownIn",{duration:600,complete:function(){refreshWaypoints()}})},{offset:-100,triggerOnce:!0})}function e(t){$(t).tooltipster("show",function(){$(this).on("click",function(){$(this).tooltipster("hide",function(){})})})}function i(t){var e=/\S+@\S+\.\S+/;return e.test(t)}function n(t){var e=/^\d{4} . \d{2} . \d{2}$/;return null!=t.match(e)}function l(t){var e=/^\s*([01]?\d|2[0-3]):?([0-5]\d)\s*$/;return null!=t.match(e)}function a(t,e){$(t).addClass("tooltip"),$(t).attr("title",e)}function o(){$(".program-nyil-le").on("click",function(t){t.preventDefault();var e=$(this).parent().parent().parent();e.toggleClass("program-fullheight");var i=$(this).parent();i.trigger("destroy"),i.removeClass("truncable-txt--is-truncated"),i.addClass("truncable-txt--is-not-truncated"),r()}),refreshWaypoints()}function r(){$(".program-nyil-fel").on("click",function(t){t.preventDefault();var e=$(this).parent().parent(),i=e.height();y.matches||v.matches?e.velocity({height:"20rem"},500).delay(1e3).velocity({height:i},1):k.matches&&e.velocity({height:"10rem"},500).delay(1e3).velocity({height:i},1),e.toggleClass("program-fullheight");var n=$(this).parent();g(n)}),refreshWaypoints()}function s(){$(".controls, .days-container").Svgenerate({rangeY:.92,midmove:.4}),$(".day.today").Svgenerate({rangeX:.9,rangeY:.9,fill:"#fff"}),$(".day.event").each(function(){$(this).Svgenerate({rangeX:.9,rangeY:.9,strokeColor:"white",strokeWidth:2})})}function d(){var t='<svg class="icon icon-nyil-balra slick-prev"><use xlink:href="#icon-nyil-balra"></use></svg>',e='<svg class="icon icon-nyil-jobbra slick-next"><use xlink:href="#icon-nyil-jobbra"></use></svg>';$(".cikkek-slider").slick({centerMode:!0,centerPadding:"60px",slidesToShow:3,slidesToScroll:1,dots:!1,speed:700,prevArrow:t,nextArrow:e,responsive:[{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:"40px",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),c()}function c(){$(".cikk-img").each(function(){$(this).Svgenerate({imgMask:"on",setToImg:"on",dropShadow:"on",blur:6,dX:5,dY:5,opacity:.3,rangeX:.95,rangeY:.95})})}function h(t){t.matches}function p(t){t.matches}function u(t){onDesktop=t.matches?!0:!1}$(".napi-tablak>li").each(function(){$(this).Svgenerate({rangeX:.96,rangeY:.92})}),t(),$(".fold-list:nth-child(1)>.itallap-head").Svgenerate({rangeX:.995,rangeY:.8,midmove:.1,bottomFixed:"on",fill:"#dd9a3c"}),$(".fold-list:nth-child(2)>.itallap-head").Svgenerate({rangeX:.995,rangeY:.8,midmove:.1,bottomFixed:"on",fill:"#ad333e"}),$(".fold-list:nth-child(3)>.itallap-head").Svgenerate({rangeX:.995,rangeY:.8,midmove:.1,bottomFixed:"on",fill:"#7a5a71"}),$(".fold-list:nth-child(4)>.itallap-head").Svgenerate({rangeX:.995,rangeY:.8,midmove:.1,bottomFixed:"on",fill:"#4e8193"}),$(".fold-list:nth-child(5)>.itallap-head").Svgenerate({rangeX:.995,rangeY:.8,midmove:.1,bottomFixed:"on",fill:"#86a516"}),function(t){"use strict";function e(t){this.el=t,this.overlay=this.el.querySelector(".nl-overlay"),this.fields=[],this.fldOpen=-1,this._init()}function i(t,e,i,n){this.form=t,this.elOriginal=e,this.pos=n,this.type=i,this._create(),this._initEvents()}var n=t.document;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.prototype={_init:function(){var t=this;Array.prototype.slice.call(this.el.querySelectorAll("select")).forEach(function(e){t.fldOpen++,t.fields.push(new i(t,e,"dropdown",t.fldOpen))}),Array.prototype.slice.call(this.el.getElementsByClassName("formText")).forEach(function(e){t.fldOpen++,t.fields.push(new i(t,e,"input",t.fldOpen))}),this.overlay.addEventListener("click",function(){t._closeFlds()}),this.overlay.addEventListener("touchstart",function(){t._closeFlds()})},_closeFlds:function(){-1!==this.fldOpen&&this.fields[this.fldOpen].close()}},i.prototype={_create:function(){"dropdown"===this.type?this._createDropDown():"input"===this.type&&this._createInput()},_createDropDown:function(){var t=this;this.fld=n.createElement("div"),this.fld.className="nl-field nl-dd",this.toggle=n.createElement("a"),this.toggle.innerHTML=this.elOriginal.options[this.elOriginal.selectedIndex].innerHTML,this.toggle.className="nl-field-toggle",this.optionsList=n.createElement("ul");var e="";Array.prototype.slice.call(this.elOriginal.querySelectorAll("option")).forEach(function(i,n){e+=t.elOriginal.selectedIndex===n?'<li class="nl-dd-checked">'+i.innerHTML+"</li>":"<li>"+i.innerHTML+"</li>",t.elOriginal.selectedIndex===n&&(t.selectedIdx=n)}),this.optionsList.innerHTML=e,this.fld.appendChild(this.toggle),this.fld.appendChild(this.optionsList),this.elOriginal.parentNode.insertBefore(this.fld,this.elOriginal),this.elOriginal.style.display="none"},_createInput:function(){this.fld=n.createElement("div"),this.fld.className="nl-field nl-ti-text",this.toggle=n.createElement("a"),this.toggle.innerHTML=this.elOriginal.getAttribute("placeholder"),this.toggle.className="nl-field-toggle",this.optionsList=n.createElement("ul"),this.getinput=n.createElement("input"),this.getinput.setAttribute("type","text"),this.getinput.setAttribute("placeholder",this.elOriginal.getAttribute("placeholder")),this.getinputWrapper=n.createElement("li"),this.getinputWrapper.className="nl-ti-input",this.inputsubmit=n.createElement("button"),this.inputsubmit.className="nl-field-go",this.inputsubmit.innerHTML='<svg class="icon icon-nyil-jobbra"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-nyil-jobbra"></use></svg>',this.getinputWrapper.appendChild(this.getinput),this.getinputWrapper.appendChild(this.inputsubmit),this.example=n.createElement("li"),this.example.className="nl-ti-example",this.example.innerHTML=this.elOriginal.getAttribute("data-subline"),this.optionsList.appendChild(this.getinputWrapper),this.optionsList.appendChild(this.example),this.fld.appendChild(this.toggle),this.fld.appendChild(this.optionsList),this.elOriginal.parentNode.insertBefore(this.fld,this.elOriginal),this.elOriginal.style.display="none"},_initEvents:function(){var t=this;if(this.toggle.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t._open()}),this.toggle.addEventListener("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t._open()}),"dropdown"===this.type){var e=Array.prototype.slice.call(this.optionsList.querySelectorAll("li"));e.forEach(function(i){i.addEventListener("click",function(n){n.preventDefault(),t.close(i,e.indexOf(i))}),i.addEventListener("touchstart",function(n){n.preventDefault(),t.close(i,e.indexOf(i))})})}else"input"===this.type&&(this.getinput.addEventListener("keydown",function(e){13==e.keyCode&&t.close()}),this.inputsubmit.addEventListener("click",function(e){e.preventDefault(),t.close()}),this.inputsubmit.addEventListener("touchstart",function(e){e.preventDefault(),t.close()}))},_open:function(){if(this.open)return!1;this.open=!0,this.form.fldOpen=this.pos;this.fld.className+=" nl-field-open"},close:function(t,e){if(!this.open)return!1;if(this.open=!1,this.form.fldOpen=-1,this.fld.className=this.fld.className.replace(/\b nl-field-open\b/,""),"dropdown"===this.type){if(t){var i=this.optionsList.children[this.selectedIdx];i.className="",t.className="nl-dd-checked",this.toggle.innerHTML=t.innerHTML,this.selectedIdx=e,this.elOriginal.value=this.elOriginal.children[this.selectedIdx].value}}else"input"===this.type&&(this.getinput.blur(),this.toggle.innerHTML=""!==this.getinput.value.trim()?this.getinput.value:this.getinput.getAttribute("placeholder"),this.elOriginal.value=this.getinput.value)}},t.NLForm=e}(window);new NLForm(document.getElementById("nl-form"));a("#nl-form > div > div:nth-child(4) > a","Légyszi add meg a neved"),a("#nl-form > div > div.nl-field.nl-dd > a","Hányan főre kellene az asztal?"),a("#nl-form > div > input.datepicker","Adj meg egy dátumot"),a("#nl-form > div > input.timepicker","Adj meg egy időpontot"),a("#nl-form > div > div:nth-child(11) > a","Légyszi add meg az email címed"),$(".tooltip").tooltipster({animation:"grow",delay:200,onlyOne:!1,position:"top",trigger:"custom"}),$(".nl-submit").on("click",function(t){Date.prototype.today=function(){return this.getFullYear()+" . "+(this.getMonth()+1<10?"0":"")+(this.getMonth()+1)+" . "+(this.getDate()<10?"0":"")+this.getDate()},Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+this.getHours()+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()};var a=new Date;if(t.preventDefault(),$("#nl-form > div > div:nth-child(4) > a").text().length<=3)e("#nl-form > div > div:nth-child(4) > a");else if(n($("#nl-form > div > input.datepicker").val()))if(l($("#nl-form > div > input.timepicker").val()))if($("#nl-form > div > input.datepicker").val()==a.today()&&a.timeNow()>"09:00"){var o="Reggel 9:00-után már csak másnapra tudsz nálunk foglalni";$("#nl-form > div > input.timepicker").tooltipster("content",o),e("#nl-form > div > input.timepicker")}else i($("#nl-form > div > div:nth-child(11) > a").text())?($("#nl-form > div > div:nth-child(4) > a, #nl-form > div > input.datepicker, #nl-form > div > input.timepicker, #nl-form > div > div:nth-child(11) > a").tooltipster("hide"),$(this).closest("#nl-form").submit()):e("#nl-form > div > div:nth-child(11) > a");else e("#nl-form > div > input.timepicker");else e("#nl-form > div > input.datepicker")}),$(".nl-field-toggle").on("click",function(){var t=$(this).parent().find(".nl-ti-input input[type='text']");setTimeout(function(){t.focus()},200)}),$(".nl-ti-input input[type='text']").on("change",function(){$(this).parent().parent().parent().find("a").css("color","black")}),$("#nl-form .datepicker, #nl-form .timepicker").on("change",function(){$(this).css("color","black")}),$(".nl-dd>ul>li ").on("click",function(){var t=$(this).parent().parent().find("a");t.css("color","black")}),$(".datepicker").datetimepicker({lang:"hu",timepicker:!1,format:"Y . m . d",closeOnDateSelect:!0,minDate:0,todayButton:!1,dayOfWeekStart:1,startDate:new Date}),$(".timepicker").datetimepicker({datepicker:!1,format:"H:i",step:30,closeOnDateSelect:!0,minTime:"08:00",maxTime:"24:00"}),$(".nl-submit").Svgenerate({rangeX:.94,rangeY:.91}),$(".naptar-trigger").on("click",function(){$("#mini-clndr, .naptar-trigger").toggleClass("naptar-is-on"),refreshWaypoints()}),$(".program-date").each(function(){$(this).Svgenerate({rangeX:.9,rangeY:.96,bottomFixed:"on",topFixed:"on"})});var f=160,g=function(t){var e=t||$(".program-right");e.dotdotdot({ellipsis:"...",watch:!0,wrap:"letter",height:f,after:".program-nyil-le",callback:function(t){t&&$(this).addClass("truncable-txt--is-truncated"),o()}})};g(),$(".program").each(function(){var t=$(this).find(".program-right");t.innerHeight()>=f?t.find(".program-nyil").css("opacity","1"):t.find(".program-nyil").css("opacity","0")}),moment.locale("hu",{});{var m=(moment().format("MMMM","hu"),moment().format("DD","hu"),moment().format("dddd","hu"),moment().format("YYYY-MM"));moment().add("month",1).format("YYYY-MM")}if($("#mini-clndr").clndr({template:$("#calendar-template").html(),events:events,clickEvents:{click:function(t){if(t.events.length){var e=$('.program[data-datum="'+t.events[0].date+'"]');e.velocity("scroll",{duration:1e3,easing:"ease",offset:-120}),e.find(".program-right").innerHeight()>=160&&e.find(".program-nyil-le").click()}},onMonthChange:function(){s()}},startWithMonth:m,adjacentDaysChangeMonth:!0}),s(),d(),matchMedia){var v=window.matchMedia("(max-width: 30em)"),y=window.matchMedia("(max-width: 50em) and (min-width: 30em)"),k=window.matchMedia("(min-width: 50em)");v.addListener(h),y.addListener(p),k.addListener(u),h(v),p(y),u(k)}});